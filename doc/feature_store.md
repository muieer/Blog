# 特征商店
## 背景
机器学习在当下应用广泛，搜索、推荐和广告这些常见的应用场景使用这项技术来实现千人千面的推荐效果。  

在企业生产环境中，如广告推荐，机器学习的应用通常被分为两部分。第一部分是算法工程师使用数据去训练并产出模型。
第二部分是预估服务(广告推荐系统模块之一)加载模型并在线上使用，实现千人千面的推荐效果。  
## 特征数据、模型与预估服务
在搜索、推荐、广告场景中，通常使用的是有监督类型机器学习算法。  

有监督类型机器学习算法在模型训练时读取的数据由一个事件的相关因素和事件结果组成。如：某个来自北京的男性用户在浏览器阅读新闻时点击并下载了今日头条这个广告。
在这个例子中，相关因素有：用户属性(性别：男、城市：北京)，上下文属性(媒体位：浏览器、关键词：新闻)，结果是：点击、下载。
在机器学习中，把相关因素数据称作**特征数据**，把事件结果称作标签，特征和标签组成样本，模型训练时读取样本数据。

训练得到的模型能代表相关因素和事件结果的因果规律，可以简单理解为数学中的函数关系：y = ax + b = f(x)，x 是相关因素，y 是事件结果，**模型就是函数 f**。

**预估服务**就是加载模型 (函数 f) 和读取特征数据 (x) 给出推测结果 (y)。  

模型训练是 f = y/x，预估服务是 y = f(x)，两者都需要特征数据 x。
## 模型训练到预估服务在生产环境中面临的挑战
1、模型产出的稳定性

模型训练读取的样本数据是读取原始数据并加工处理后得到的。样本产出的效率和质量影响着模型产出的稳定性。
原始数据散落在各处，数据量有大有小，有历史数据和写入队列中的实时数据，需要把这些数据根据 Key(类似于何人、何时、何地)正确的关联起来，这涉及流批分布式计算。  
2、模型效果

模型读取的特征种类越丰富和数据量越大
2、预估效果的稳定性  
在搜广推场景中，用户的行为和喜好会随时间而变化，需要读取最新的用户数据并训练产出最新的模型，才能保证预估效果符合预期；
模型训练使用的特征数据和预估服务读取的特征数据要保证一致；
3、预估服务的性能
从用户发送请求到最终看到响应结果，这个时间要尽可能短。这需要预估服务从存储系统读取特征数据延时要低、数据量要尽可能少、读取和解析特征要快。
## 什么是特征商店

## 特征商店解决了什么问题
## 特征商店面临的挑战
## 参考文章
1、[what is a feature store](https://www.featurestore.org/what-is-a-feature-store) 




